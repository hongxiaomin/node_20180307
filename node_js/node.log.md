# node 是什么

- Node.js是一个让JS可以运行在浏览器之外的服务器端的平台
- 它实现了诸如文件系统、模块、包、操作系统API，网络通信等核心JS没有或不完善的功能
- 它摒弃传统平台依赖多线程来实现高并发的设计思路，而采用单线程，异步式I/O，事件驱动式的程序设计模型
- Node.js使用了来自Google ChromeV8引擎。V8是目前世界上最快的javascript引擎

# node.js的优点

- Nodejs基于javascript语言
- 统一公共类库，代码标准化
- Nodejs选择了目前最快的浏览器内核V8作为执行引擎
- Nodejs的社区非常活跃

# 什么是回调
```
异步编程 基本的方法，需要异步处理的时候一般采用后续传递的方式。
将后续逻辑作为函数参数中作为起始函数的参数
```
# 同步和异步
```
同步是指发起调用之后主线程只能挂起，调用者主动等待这个调用的结果。
异步是指发起调用之后主线程可以做别的事情，被调用者通过通知来告知调用者结果。 
```
# 什么是阻塞/非阻塞
```
针对内核来说的，向内核发起请求的时候不会阻塞主线程的执行
非阻塞是实现异步的前置条件
```
# 什么是IO
``` 
Input（输入）从文件系统中读取文件
Output（输出）向文件系统写入文件
```
# 什么是单线程/多线程
```
单线程指程序按顺序执行，前面流程执行完毕之后后面的流程才能执行到
多线程指同时可以执行多个任务，通过系统线程上下文切换来弥补同步式IO调用时的时间开销
NOde单线程指的是主线程是单线程的，所有阻塞的部分交给一个线程池处理，然后这个主线程通过一个队列跟线程池协作。
```
# 什么是事件
```
是指发生了某种事情，这件事情会触发其他动作的发生。 
```
# 什么是基于事件驱动的回调函数
``` 
不是立刻执行，而是等某个事件发生之后才会执行的函数就叫基于事件驱动的回调函数。
```
# 什么是事件循环
``` 
管理异步动作、定时器和回调函数的机制叫事件环
异步的时候就会压入到这个队列，然后不停读取事件，事件发生后会把对应的回调加入队列。
队列按加入的顺序依次执行，由普通函数和回调函数组成。
```
# JS 不足
``` 
js没有模块系统，不支持封闭作用域或依赖管理
没有标准库，没有文件系统API
没有包管理系统，不能自动加载和安装依赖
```
# commonjs规范
``` 
一个node.js由大量模块组成，每个JS文件都是一个模块
实现了require方法，npm基于commonjs实现了自动加载和安装依赖
```
# 模块化优点

- 增加内聚性，有助于分工协作
- 方便重构
- 提高代码质量

# 模块使用

- 定义模块
- 导出模块
- 使用模块

# 包和npm 

- 多个模块可以封装成一个包
- npm是nodejs默认的模块管理器，用来安装和管理node模块 网址为：http://npmjs.org
- 可以用包的方式通过npm安装、卸载、发布包

# 组织和管理模块
``` 
放置多个模块的文件夹称为包，可以通过包来对一组具有相互依赖的有关系模块进行管理。初始化一个项目npm init -y
{
  "name": "node_20180307",包的名称
  "version": "1.0.0",包的版本号
  "description": "",包的简要说明
  "main": "index.js",
  "scripts": {
    "test": "echo \"Error: no test specified\" && exit 1"
  },
  "repository": {仓库地址
    "type": "git",
    "url": "git+https://github.com/hongxiaomin/node_20180307.git"
  },
  "keywords": [],关键字
  "author": "",
  "license": "ISC",许可证
  "bugs": {
    "url": "https://github.com/hongxiaomin/node_20180307/issues"
  },
  "homepage": "https://github.com/hongxiaomin/node_20180307#readme",
  "dependencies":"包的依赖，一个关联数组，由包名称和版本组成"
}

```
# 安装第三方宝
- 全局安装 直接下载到Node的安装目录中，各个项目都可以调用，适合工具模块，比如gulp
- 本地安装 将一个模块下载到当前目录node_modules子目录，然后只有在当前目录和它的子目录之中，才能调用这个模块

# 模块分类
- 内置模块
- 文件模块
- 第三方模块

# 模块查找规则
- 当没有以'/'或者'./'来指向一个文件时，这个模块要么是核心模块，要么就是node_modules文件夹加载的
- 内置模块
- 第三方模块
``` 
1.从module.paths取出第一个目录开始。
2.直接从目录中查找，存在结束，不存在下一条。
3.尝试添加.js、.json查找
4.尝试将require的参数作为一个包来查找，读取package.json，取得main配置项指定的文件查找，不存在进行3
5.继续失败查看下一个目录
```
